<style>
      .a4-page {
        width: 210mm;
        display: flex;
        flex-direction: row;
        position: relative;
        overflow: hidden;
        margin: auto;
        aspect-ratio: 210 / 297;

      }

      .product-area {
        position: absolute;
        bottom: 2rem;
        left: 35%;
        transform: translateX(-50%);
        z-index: 2;
    }

      .product-box {
        width: 275px;
      }

      .left-section {
        width: 35%;
        position: relative;
        background: url('{{ product.metafields.custom.onepager_left_image | image_url}}') no-repeat center center;
        background-size: cover;
      }

      .left-logo {
        position: absolute;
        top: 1rem;
        left: 1rem;
        width: 100px;
      }

      .boost-text {
        position: absolute;
        left: -20px;
        top: 20%;
        transform: rotate(-90deg);
        font-size: 100px;
        font-weight: 900;
        color: white;
        text-shadow: 2px 2px 8px #000;
      }

      /* .right-section {
        width: 65%;
        background: url('{{ product.metafields.custom.onepager_right_image | image_url }}') no-repeat;
        background-position: right 175px;
        padding: 2rem;
        background-color: #fff;
        display: flex;
        flex-direction: column;
        justify-content: space-between;

      } */

        .right-section {
        position: relative;
        width: 65%;
        padding: 2rem 4rem 6rem 2rem;
        background-color: #fff;
        display: flex;
        flex-direction: column;
        /* justify-content: space-between; */
        justify-content: flex-start;
        overflow: hidden;
        z-index: 0;
      }

      .right-section::before {
        content: '';
        position: absolute;
        top: 16%;
        right: -60px;
        width: 175px;
        height: 200px;
        background: url('{{ product.metafields.custom.onepager_right_image | image_url }}') no-repeat center center;
        background-size: contain;
        transform: rotate(-145deg);
        z-index: -1;
        opacity: 0.8;
      }

      .section {
        margin-bottom: 2rem;
      }

      .section h2 {
        font-size: 30px;
        font-weight: bold;
        margin-bottom: 0.5rem;
        line-height: 125%;
      }

      .section p {
        font-size: 1rem;
        line-height: 125%;
        color: #000;
      }

      .highlight {
        font-weight: bold;
      }

      .patch-image {
        width: 80px;
        margin-top: 1rem;
      }

      .features {
        width: calc(100% + 6rem);
        margin-left: -2rem;
        background-color: #f5f5f5;
        padding: 2rem 4rem 2rem 2rem;
      }

      .features h3 {
        font-size: 1rem;
        margin: 0rem 0;
        line-height: 125%;

      }


      .feature-block {
        margin-bottom: 2rem;
        margin-left: 3rem;
      }

      .feature-row {
        display: flex;
        align-items: flex-start;
        gap: 2rem;
      }

      .feature-list-image {
        width: 40px;
        height: auto;
        flex-shrink: 0;
        margin-top: 1rem;
      }

      .feature-text {
        padding-top: 0.75rem;
      }
      .feature-list {
        padding: 0;
        margin: 0;
        list-style-type: disc;
        font-size: 1rem;
        padding-left: 1.2rem;
        line-height: 150%
        ;
      }

      .footer-area {
        position: absolute;
        bottom: 2rem;
        left: 2rem;
        right: 2rem;
        display: flex;
        align-items: center;
        justify-content: flex-end;
        gap: 1rem;
      }
    .footer-logo {
      width: 150px;
      position: relative;
      bottom: 0;
    }

    .add-to-cart-btn {
      cursor: pointer;
      text-transform: uppercase;
      padding: 7px 30px;
      align-items: center;
      height: 48px;
      font-size: .875rem;
      font-weight: var(--font-body-bold-weight, 600);
      letter-spacing: var(--button-letter-spacing, .02em);
      border: 1px solid var(--solid-button-background, var(--color-accent));
      background: var(--solid-button-background, var(--color-accent));
      color: var(--solid-button-label, #fff);
      border-radius: var(--button-border-radius, 0px);
    }
    .close-button {
      position: absolute;
      top: 1rem;
      right: 1rem;
      font-size: 2rem;
      color: #000;
      border: none;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      cursor: pointer;
      z-index: 10;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 2px 6px rgba(0,0,0,0.2);
  }
  .close-button:hover {
    background: rgba(255, 255, 255, 1);
  }
</style>
<!-- DYNAMIC SECTION START -->
<section class="custom-product-onepager" id="{{ section.id }}">
  <div class="a4-page">
    <button class="close-button" aria-label="Close">&times;</button>
    <!-- Left Image Section -->
    <div class="left-section"></div>

    <!-- Right Text Section -->
    <div class="right-section">
      <div>
        <!-- Section 1 -->
        <div class="section">
          {% if product.metafields.custom.onepager_heading_1 %}
            <h2>{{ product.metafields.custom.onepager_heading_1.value }}</h2>
          {% endif %}
          {% if product.metafields.custom.onepager_text_1 %}
            <p>{{ product.metafields.custom.onepager_text_1.value }}</p>
          {% endif %}
        </div>

        <!-- Section 2 -->
        <div class="section">
          {% if product.metafields.custom.onepager_heading_2 %}
            <h2>{{ product.metafields.custom.onepager_heading_2.value }}</h2>
          {% endif %}
          {% if product.metafields.custom.onepager_text_2 %}
            <p>{{ product.metafields.custom.onepager_text_2.value }}</p>
          {% endif %}
        </div>

        <!-- Section 3 -->
        <div class="section features">
          {% if product.metafields.custom.onepager_grey_heading %}
            <h2>
              {{ product.metafields.custom.onepager_grey_heading.value }}
            </h2>
          {% endif %}
          {% if product.metafields.custom.onepager_grey_html %}
            <div class="feature-block">
              {{ product.metafields.custom.onepager_grey_html.value }}
            </div>
          {% endif %}
        </div>
      </div>

      <!-- Footer Logo -->
      <!-- <img src="{{ section.settings.bottom_logo | image_url }}" class="footer-logo" alt="SuperPatch Logo"> -->
      <div class="footer-area">
        <form method="post" action="/cart/add">
          <input type="hidden" name="id" value="{{ product.variants.first.id }}">
          <button type="submit" class="add-to-cart-btn">Add to Cart</button>
        </form>
        <!--
          <img
            src="{{ section.settings.bottom_logo | image_url }}"
            class="footer-logo"
            alt="SuperPatch Logo"
            width="{{ section.settings.bottom_logo.width }}"
            height="{{ section.settings.bottom_logo.height }}"
          >
        -->
      </div>
    </div>
    <!-- Overlapping product image -->
    <div class="product-area">
      <!--
        <img
          src="{{ product.metafields.custom.onepager_product_image | image_url }}"
          alt="{{ product.title }}"
          class="product-box"
           width="1152"
          height="2048"
        >
      -->
      {% assign custom_image = product.metafields.custom.onepager_product_image %}
      {% if custom_image %}
        <img
          src="{{ custom_image | image_url }}"
          alt="{{ product.title }}"
          class="product-box"
          width="1152"
          height="2048"
        >
      {% else %}
        <img
          src="{{ product.featured_image | image_url }}"
          alt="{{ product.title }}"
          class="product-box"
          width="{{ product.featured_image.width }}"
          height="{{ product.featured_image.height }}"
        >
      {% endif %}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Product Sheet",
  "tag": "section",
  "enabled_on": {
    "templates": ["product"]
  },
  "settings": [
    {
    "type": "image_picker",
    "id": "bottom_logo",
    "label": "Bottom Right Logo"
    }
  ],
  "presets": [
    {
    "name": "Product Sheet"
    }
  ]
}
{% endschema %}
